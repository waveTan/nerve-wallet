(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8a9b0a74"],{"0a49":function(e,t,r){var s=r("9b43"),n=r("626a"),a=r("4bf8"),o=r("9def"),u=r("cd1c");e.exports=function(e,t){var r=1==e,c=2==e,i=3==e,d=4==e,l=6==e,f=5==e||l,p=t||u;return function(t,u,h){for(var w,m,b=a(t),g=n(b),v=s(u,h,3),y=o(g.length),P=0,x=r?p(t,y):c?p(t,0):void 0;y>P;P++)if((f||P in g)&&(w=g[P],m=v(w,P,b),e))if(r)x[P]=m;else if(m)switch(e){case 3:return!0;case 5:return w;case 6:return P;case 2:x.push(w)}else if(d)return!1;return l?-1:i||d?d:x}}},1959:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"h",(function(){return u})),r.d(t,"e",(function(){return i})),r.d(t,"d",(function(){return l})),r.d(t,"i",(function(){return p})),r.d(t,"a",(function(){return w})),r.d(t,"f",(function(){return v})),r.d(t,"g",(function(){return P})),r.d(t,"b",(function(){return k}));r("7514"),r("c5f6"),r("6b54"),r("96cf");var s=r("3b8d"),n=r("9f30"),a=r("6ace");r("db49");function o(e,t){var r=e.txSerialize().length;return r+=110*t,1e5*Math.ceil(r/1024)}function u(e,t,r){return c.apply(this,arguments)}function c(){return c=Object(s["a"])(regeneratorRuntime.mark((function e(t,r,s){var n,o,u,c,d,l,f,p,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Number(Object(a["c"])(t.amount,t.fee)),o=0,u=r.nonce,c=t.amount,d=0,4===s||5===s?d=-1:6===s?(n=t.amount,o=-1,u=t.depositHash.substring(t.depositHash.length-16),c=t.amount-t.fee):9===s&&(n=t.amount,o=-1,u=t.depositHash.substring(t.depositHash.length-16),c=t.amount-t.fee,l=(new Date).valueOf(),d=Number(l.toString().substr(0,l.toString().length-3))),f=[{address:t.fromAddress,assetsChainId:t.assetsChainId,assetsId:t.assetsId,amount:n,locked:o,nonce:u}],2!==s||t.assetsChainId===Object(a["f"])()){e.next=16;break}return f[0].amount=t.amount,e.next=11,i(Object(a["f"])(),t.assetsId,t.fromAddress);case 11:if(p=e.sent,!(p.data.balance<1e5)){e.next=15;break}return console.log("余额小于手续费"),e.abrupt("return");case 15:f.push({address:t.fromAddress,assetsChainId:Object(a["f"])(),assetsId:t.assetsId,amount:1e5,locked:o,nonce:p.data.nonce});case 16:if(h=[],15!==s&&17!==s){e.next=19;break}return e.abrupt("return",{success:!0,data:{inputs:f,outputs:h}});case 19:if(16!==s){e.next=22;break}return t.toAddress&&t.value&&(f[0].amount=t.amount,h=[{address:t.toAddress,assetsChainId:t.assetsChainId,assetsId:t.assetsId,amount:t.value,lockTime:d}]),e.abrupt("return",{success:!0,data:{inputs:f,outputs:h}});case 22:return h=[{address:t.toAddress?t.toAddress:t.fromAddress,assetsChainId:t.assetsChainId,assetsId:t.assetsId,amount:c,lockTime:d}],e.abrupt("return",{success:!0,data:{inputs:f,outputs:h}});case 24:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function i(){return d.apply(this,arguments)}function d(){return d=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r,s,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:2,r=a.length>1&&void 0!==a[1]?a[1]:1,s=a.length>2?a[2]:void 0,e.next=5,Object(n["a"])("/","getAccountBalance",[t,r,s]).then((function(e){return e.hasOwnProperty("result")?{success:!0,data:{balance:e.result.balance,nonce:e.result.nonce}}:{success:!1,data:e}})).catch((function(e){return{success:!1,data:e}}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function l(){return f.apply(this,arguments)}function f(){return f=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r,s,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:2,r=a.length>1&&void 0!==a[1]?a[1]:1,s=a.length>2?a[2]:void 0,e.next=5,Object(n["a"])("/","getAccountBalance",[t,r,s]).then((function(e){return e.result?{success:!0,data:e.result}:{success:!1,data:e}})).catch((function(e){return{success:!1,data:e}}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return h=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])("/","validateTx",[t]).then((function(e){if(e.hasOwnProperty("result")){var r=e.result.value;return Object(n["a"])("/","broadcastTx",[t]).then((function(e){return e.hasOwnProperty("result")?{success:!0,hash:r}:{success:!1,data:e.error}})).catch((function(e){return{success:!1,data:e}}))}return{success:!1,data:e.error}})).catch((function(e){return{success:!1,data:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function w(e){return m.apply(this,arguments)}function m(){return m=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])("/","getConsensusDeposit",[1,300,t]).then((function(e){return e.result})).catch((function(e){return{success:!1,data:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function b(){return g.apply(this,arguments)}function g(){return g=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[{chainId:4,addressPrefix:"NVT"},{chainId:4,addressPrefix:"TNVT"}],e.next=3,Object(n["a"])("/","getAllAddressPrefix",[]).then((function(e){e.hasOwnProperty("result")?(sessionStorage.hasOwnProperty("prefixData")&&sessionStorage.removeItem("prefixData"),sessionStorage.setItem("prefixData",JSON.stringify(e.result))):sessionStorage.setItem("prefixData",JSON.stringify(t))})).catch((function(e){console.log(e),sessionStorage.setItem("prefixData",JSON.stringify(t))}));case 3:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return y=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:if(r=JSON.parse(sessionStorage.getItem("prefixData")),!r){e.next=8;break}return s=r.find((function(e){return e.chainId===t})),e.abrupt("return",s.addressPrefix);case 8:return e.abrupt("return","");case 9:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function P(e){return x.apply(this,arguments)}function x(){return x=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])("/","getMsg",[t]).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.hasOwnProperty("result")||!t.result.pubkey){e.next=8;break}if(!t.result.pubkey||!t.result.signData){e.next=5;break}return e.abrupt("return",{success:!0,data:{signData:t.result.signData,pubkey:t.result.pubkey}});case 5:return e.abrupt("return",{success:!0,data:{}});case 6:e.next=9;break;case 8:return e.abrupt("return",{success:!1,data:t});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return{success:!1,data:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function k(e,t,r,s){return O.apply(this,arguments)}function O(){return O=Object(s["a"])(regeneratorRuntime.mark((function e(t,r,s,a){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o={address:s,hash:a.getHash().toString("hex"),txHex:a.txSerialize().toString("hex")},e.next=3,Object(n["a"])("/","commitMsg",[t,o]).then((function(e){if(e.hasOwnProperty("result")){var s={url:localStorage.hasOwnProperty("url")?JSON.parse(localStorage.getItem("url")).urls:"https://beta.wallet.nuls.io/api",txHexKey:t,signDataKey:r};return{success:!0,data:{txInfo:s,assembleHex:a}}}return{success:!1,data:e}})).catch((function(e){return{success:!1,data:e}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}},"2e64":function(e,t,r){"use strict";var s=r("ff03"),n=r.n(s);n.a},"3a51":function(e,t,r){},7514:function(e,t,r){"use strict";var s=r("5ca1"),n=r("0a49")(5),a="find",o=!0;a in[]&&Array(1)[a]((function(){o=!1})),s(s.P+s.F*o,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(a)},b301:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"back",attrs:{backUrl:e.backUrl}},[r("span",{staticClass:"back-box",on:{click:e.back}},[r("i",{staticClass:"el-icon-arrow-left"}),r("span",[e._v(e._s(e.backTitle))])])])},n=[],a={props:{backTitle:{type:String,default:""},backUrl:{type:String,default:"1"},backParams:{type:String,default:""}},methods:{back:function(){"1"===this.backUrl?this.$router.go(-1):this.$router.push({name:this.backUrl})}}},o=a,u=(r("2e64"),r("2877")),c=Object(u["a"])(o,s,n,!1,null,null,null);t["a"]=c.exports},b8ea:function(e,t,r){"use strict";var s=r("3a51"),n=r.n(s);n.a},cd1c:function(e,t,r){var s=r("e853");e.exports=function(e,t){return new(s(e))(t)}},ce96:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"new_address bg-gray"},[r("div",{staticClass:"bg-white"},[r("div",{staticClass:"w1200"},[r("BackBar",{attrs:{backTitle:e.$t("address.address0")}}),r("h3",{staticClass:"title"},[e._v(e._s(e.$t("editPassword.editPassword0"))+": "+e._s(this.$route.query.address))])],1)]),r("div",{staticClass:"new w1200 mt_20 bg-white"},[r("div",{staticClass:"w630"},[r("h3",{staticClass:"tc mzt_20"}),r("el-form",{ref:"passwordForm",staticClass:"mb_20",attrs:{model:e.passwordForm,"status-icon":"",rules:e.passwordRules}},[r("el-form-item",{attrs:{label:e.$t("editPassword.editPassword1"),prop:"oldPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.passwordForm.oldPass,callback:function(t){e.$set(e.passwordForm,"oldPass",t)},expression:"passwordForm.oldPass"}})],1),r("el-form-item",{attrs:{label:e.$t("editPassword.editPassword2"),prop:"newPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.passwordForm.newPass,callback:function(t){e.$set(e.passwordForm,"newPass",t)},expression:"passwordForm.newPass"}})],1),r("el-form-item",{attrs:{label:e.$t("editPassword.editPassword3"),prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.passwordForm.checkPass,callback:function(t){e.$set(e.passwordForm,"checkPass",t)},expression:"passwordForm.checkPass"}})],1),r("el-form-item",{staticClass:"form-next"},[r("el-button",{attrs:{type:"success"},on:{click:function(t){return e.submitPasswordForm("passwordForm")}}},[e._v(e._s(e.$t("editPassword.editPassword4"))+"\n          ")]),r("div",[e._v(e._s(e.$t("editPassword.editPassword5"))),r("span",{staticClass:"click",on:{click:function(t){return e.toUrl("newAddress")}}},[e._v(" "+e._s(e.$t("public.re-import")))])])],1)],1)],1)])])},n=[],a=(r("ac6a"),r("ac4d"),r("8a81"),r("5df3"),r("1c4c"),r("7f7f"),r("6b54"),r("0ad0")),o=r.n(a),u=r("b301"),c=r("6ace"),i=r("1959");function d(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=l(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,n,a=!0,o=!1;return{s:function(){s=e[Symbol.iterator]()},n:function(){var e=s.next();return a=e.done,e},e:function(e){o=!0,n=e},f:function(){try{a||null==s.return||s.return()}finally{if(o)throw n}}}}function l(e,t){if(e){if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var p={data:function(){var e=this,t=function(t,r,s){var n=/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{8,20}$/;""===r?s(new Error(e.$t("editPassword.editPassword6"))):n.exec(r)?(""!==e.passwordForm.checkPass&&e.$refs.passwordForm.validateField("newPass"),s()):s(new Error(e.$t("editPassword.editPassword7")))},r=function(t,r,s){var n=/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{8,20}$/;""===r?s(new Error(e.$t("editPassword.editPassword8"))):n.exec(r)?e.passwordForm.oldPass===e.passwordForm.newPass?s(new Error(e.$t("editPassword.editPassword9"))):(""!==e.passwordForm.checkPass&&e.$refs.passwordForm.validateField("checkPass"),s()):s(new Error(e.$t("editPassword.editPassword7")))},s=function(t,r,s){""===r?s(new Error(e.$t("editPassword.editPassword10"))):e.passwordForm.checkPass!==e.passwordForm.newPass?s(new Error(e.$t("editPassword.editPassword11"))):s()};return{addressInfo:{},passwordForm:{oldPass:"",newPass:"",checkPass:""},passwordRules:{oldPass:[{validator:t,trigger:"blur"}],newPass:[{validator:r,trigger:"blur"}],checkPass:[{validator:s,trigger:"blur"}]},editAddressInfo:"",prefix:""}},created:function(){var e=this;Object(i["f"])(Object(c["f"])()).then((function(t){e.prefix=t})).catch((function(t){console.log(t),e.prefix=""}))},mounted:function(){},components:{BackBar:u["a"]},methods:{submitPasswordForm:function(e){var t,r=this,s=this.$route.query.address,n={},a=d(Object(c["e"])(0));try{for(a.s();!(t=a.n()).done;){var u=t.value;u.address===s&&(n=u)}}catch(i){a.e(i)}finally{a.f()}this.$refs[e].validate((function(e){if(!e)return!1;var t=o.a.decrypteOfAES(n.aesPri,r.passwordForm.oldPass),a=o.a.importByKey(Object(c["f"])(),t,r.passwordForm.oldPass,r.prefix);if(a.address===s){var u=o.a.importByKey(Object(c["f"])(),t,r.passwordForm.newPass,r.prefix);n.aesPri=u.aesPri,n.pub=u.pub;var l,f=Object(c["e"])(0),p=d(f);try{for(p.s();!(l=p.n()).done;){var h=l.value;h.address===n.address&&(h.aesPri=n.aesPri)}}catch(i){p.e(i)}finally{p.f()}localStorage.setItem(Object(c["g"])(),JSON.stringify(f)),r.$message({message:r.$t("editPassword.editPassword12"),type:"success",duration:1e3}),r.toUrl("address")}else r.$message({message:r.$t("editPassword.editPassword13"),type:"error",duration:1e3})}))},toUrl:function(e){"newAddress"===e?this.$router.push({name:e,query:{address:this.$route.query.address}}):this.$router.push({name:e})}}},h=p,w=(r("b8ea"),r("2877")),m=Object(w["a"])(h,s,n,!1,null,null,null);t["default"]=m.exports},e853:function(e,t,r){var s=r("d3f4"),n=r("1169"),a=r("2b4c")("species");e.exports=function(e){var t;return n(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!n(t.prototype)||(t=void 0),s(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?Array:t}},ff03:function(e,t,r){}}]);
//# sourceMappingURL=chunk-8a9b0a74.a9e26f63.js.map