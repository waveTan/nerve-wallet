(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-101f674a"],{"0d40":function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"transfer bg-gray"},[t("div",{staticClass:"w1200 bg-white"},[t("div",{staticClass:"title"},[e._v(e._s(e.$t("home.home3")))]),t("el-form",{ref:"transferForm",staticClass:"w630 transfer_form",attrs:{model:e.transferForm,rules:e.transferRules}},[t("el-form-item",{attrs:{label:e.$t("transfer.transfer0"),prop:"fromAddress"}},[t("el-input",{attrs:{disabled:""},model:{value:e.transferForm.fromAddress,callback:function(s){e.$set(e.transferForm,"fromAddress",s)},expression:"transferForm.fromAddress"}})],1),t("el-form-item",{staticClass:"asset_type",attrs:{label:e.$t("transfer.transfer2"),prop:"assetType"}},[t("el-select",{attrs:{filterable:"",placeholder:""},on:{change:e.changeAssetType},model:{value:e.transferForm.assetType,callback:function(s){e.$set(e.transferForm,"assetType",s)},expression:"transferForm.assetType"}},e._l(e.assetList,(function(e){return t("el-option",{key:e._id,attrs:{label:e.symbol,value:e}})})),1)],1),t("el-form-item",{attrs:{label:e.$t("transfer.transfer1"),prop:"toAddress"}},[t("el-input",{model:{value:e.transferForm.toAddress,callback:function(s){e.$set(e.transferForm,"toAddress",s)},expression:"transferForm.toAddress"}})],1),t("div",{staticStyle:{width:"630px",height:"30px"}}),t("div",{staticClass:"fr font12",staticStyle:{padding:"8px 0 0 0"}},[e._v(e._s(e.$t("public.usableBalance"))+": "+e._s(e.balanceInfo.balances))]),t("el-form-item",{attrs:{label:e.$t("transfer.transfer3"),prop:"amount"}},[t("el-input",{model:{value:e.transferForm.amount,callback:function(s){e.$set(e.transferForm,"amount",s)},expression:"transferForm.amount"}})],1),t("el-form-item",{attrs:{label:e.$t("transfer.transfer4"),prop:"remarks"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.transferForm.remarks,callback:function(s){e.$set(e.transferForm,"remarks",s)},expression:"transferForm.remarks"}})],1),t("div",{staticClass:"fee font14 mb_20"},[e._v(e._s(e.$t("public.fee"))+": "+e._s(e.transferForm.fee)+" NULS")]),t("el-form-item",{staticClass:"btn-next"},[t("el-button",{attrs:{type:"primary"},on:{click:function(s){return e.submitTransferForm("transferForm")}}},[e._v(e._s(e.$t("public.next")))])],1)],1)],1),t("el-dialog",{staticClass:"transfer_form_dialog",attrs:{title:e.$t("transfer.transfer6"),visible:e.transferFormDialog,width:"500px"},on:{"update:visible":function(s){e.transferFormDialog=s}}},[t("ul",{staticStyle:{height:"150px"}},[t("li",[t("span",[e._v(e._s(e.$t("transfer.transfer0"))+"：")]),t("font",[e._v(e._s(e.transferForm.fromAddress))])],1),t("li",[t("span",[e._v(e._s(e.$t("transfer.transfer1"))+"：")]),t("font",[e._v(e._s(e.transferForm.toAddress))])],1),t("li",[t("span",[e._v(e._s(e.$t("public.amount"))+"：")]),t("font",[e._v(e._s(e.transferForm.amount)+" "+e._s(this.transferForm.assetType))])],1),t("li",[t("span",[e._v(e._s(e.$t("public.fee"))+"：")]),t("font",[e._v(e._s(e.transferForm.fee)+" "+e._s(e.prefix))])],1),t("li",[t("span",[e._v(e._s(e.$t("public.remarks"))+"：")]),t("font",[e._v(e._s(e.transferForm.remarks))])],1)]),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(s){e.transferFormDialog=!1}}},[e._v(e._s(e.$t("address.address10")))]),t("el-button",{attrs:{type:"primary"},on:{click:e.confirmSubmission}},[e._v(e._s(e.$t("transfer.transfer8")))])],1)]),t("Password",{ref:"password",on:{passwordSubmit:e.coinPassSubmit}})],1)},a=[],n=(t("6b54"),t("96cf"),t("3b8d")),o=(t("c5f6"),t("3b2b"),t("0ad0")),i=t.n(o),c=t("b8d7"),f=t.n(c),d=t("1959"),u=t("db49"),l=t("6ace"),m=t("d1f0"),p={data:function(){var e=this,s=function(s,t,r){var a=/^(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{20,50}$/;""===t?r(new Error(e.$t("transfer.transfer9"))):a.exec(t)?r():r(new Error(e.$t("transfer.transfer10")))},t=function(s,t,r){var a=8,n=new RegExp("^([1-9][\\d]{0,20}|0)(\\.[\\d]{0,8})?$");""===t?r(new Error(e.$t("transfer.transfer11"))):n.exec(t)?Number(t)<.001?r(new Error(e.$t("transfer.transfer13"))):0===e.balanceInfo.balance?r(new Error(e.$t("tips.tips23"))):Number(t)>Number(Object(l["b"])(e.balanceInfo.balance,.001))?r(new Error(e.$t("transfer.transfer131")+Number(Object(l["b"])(e.balanceInfo.balance,.001)))):r():r(new Error(e.$t("transfer.transfer12")+": "+a))};return{addressInfo:{},assetList:[],changeAssetInfo:{},balanceInfo:{balance:0,balances:0,nonce:""},transferForm:{fromAddress:"",toAddress:"",assetType:"",amount:"",fee:.001,remarks:""},transferRules:{toAddress:[{validator:s,trigger:"change"}],amount:[{validator:t,trigger:["blur","change"]}]},prefix:u["e"].prefix,transferFormDialog:!1}},created:function(){this.assetList=sessionStorage.hasOwnProperty("allAssetsList")?JSON.parse(sessionStorage.getItem("allAssetsList")):[],this.addressInfo=Object(l["e"])(1),this.transferForm.fromAddress=this.addressInfo.address},mounted:function(){var e={};if(sessionStorage.hasOwnProperty("transferParams"))e=JSON.parse(sessionStorage.getItem("transferParams"));else{var s=this.assetList.filter((function(e){return 2===e.chainId}));e=s[0]}this.transferForm.assetType=e.symbol,this.changeAssetType(e)},watch:{},components:{Password:m["a"]},destroyed:function(){sessionStorage.removeItem("transferParams")},methods:{changeAssetType:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(s){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.changeAssetInfo=s,this.transferForm.assetType=s.symbol,e.prev=2,e.next=5,Object(d["e"])(s.chainId,s.assetsId,this.addressInfo.address);case 5:t=e.sent,t.success&&(this.balanceInfo.balance=t.data.balance,this.balanceInfo.balances=Number(Object(l["k"])(t.data.balance,s.decimals)),this.balanceInfo.nonce=t.data.nonce),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));function s(s){return e.apply(this,arguments)}return s}(),submitTransferForm:function(e){var s=this;this.$refs[e].validate((function(e){if(!e)return!1;s.transferFormDialog=!0}))},confirmSubmission:function(){this.$refs.password.showPassword(!0),this.transferFormDialog=!1},coinPassSubmit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(s){var t,r,a,n,o,c,u,m,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["p"])(this.addressInfo,s);case 2:if(t=e.sent,t.success){e.next=6;break}return this.$message({message:this.$t("tips.tips24"),type:"error",duration:3e3}),e.abrupt("return");case 6:return r={fromAddress:this.addressInfo.address,assetsChainId:this.changeAssetInfo.chainId,assetsId:this.changeAssetInfo.assetId,fee:1e5},r["toAddress"]=this.transferForm.toAddress,r["amount"]=Object(l["r"])(this.transferForm.amount,this.changeAssetInfo.decimal),e.next=11,this.inputsOrOutputs(r);case 11:return a=e.sent,e.next=14,i.a.transactionAssemble(a.data.inputs,a.data.outputs,Object(l["n"])(this.transferForm.remarks),2);case 14:return n=e.sent,e.next=17,n.getHash();case 17:return o=e.sent,e.next=20,f.a.getSignData(o.toString("hex"),t.pri);case 20:return c=e.sent,e.next=23,f.a.appSplicingPub(c.signValue,t.pub);case 23:return u=e.sent,n.signatures=u,m=n.txSerialize().toString("hex"),e.next=28,Object(d["i"])(m.toString("hex"));case 28:if(p=e.sent,p.success){e.next=34;break}return this.$message({message:this.$t("public.err")+JSON.stringify(p),type:"error",duration:3e3}),e.abrupt("return");case 34:this.$message({message:this.$t("tips.tips0"),type:"success",duration:1e3}),this.transferFormDialog=!1,this.transferForm.toAddress="",this.transferForm.amount="",this.transferForm.remarks="";case 39:case"end":return e.stop()}}),e,this)})));function s(s){return e.apply(this,arguments)}return s}(),inputsOrOutputs:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(s){var t,r,a,n,o,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t={assetsChainId:u["e"].chainId,assetsId:u["e"].assetId},r=0,a=[],s.assetsChainId!==t.assetsChainId||s.assetsId!==t.assetsId){e.next=11;break}return e.next=6,Object(d["d"])(s.assetsChainId,s.assetsId,s.fromAddress);case 6:n=e.sent,r=Number(Object(l["c"])(s.amount,s.fee)),a=[{address:s.fromAddress,assetsChainId:s.assetsChainId,assetsId:s.assetsId,amount:r,locked:0,nonce:n.data.nonce}],e.next=20;break;case 11:return e.next=13,Object(d["d"])(s.assetsChainId,s.assetsId,s.fromAddress);case 13:return o=e.sent,r=Number(s.amount),a=[{address:s.fromAddress,assetsChainId:s.assetsChainId,assetsId:s.assetsId,amount:r,locked:0,nonce:o.data.nonce}],e.next=18,Object(d["d"])(t.assetsChainId,t.assetsId,s.fromAddress);case 18:i=e.sent,a.push({address:s.fromAddress,assetsChainId:t.assetsChainId,assetsId:t.assetsId,amount:s.fee,locked:0,nonce:i.data.nonce});case 20:return c=[{address:s.toAddress,assetsChainId:s.assetsChainId,assetsId:s.assetsId,amount:s.amount,lockTime:0}],e.abrupt("return",{success:!0,data:{inputs:a,outputs:c}});case 22:case"end":return e.stop()}}),e)})));function s(s){return e.apply(this,arguments)}return s}(),toUrl:function(e){this.$router.push({name:e})}}},b=p,h=(t("3fbe"),t("2877")),g=Object(h["a"])(b,r,a,!1,null,null,null);s["default"]=g.exports},"243f":function(e,s,t){},"3b2b":function(e,s,t){var r=t("7726"),a=t("5dbc"),n=t("86cc").f,o=t("9093").f,i=t("aae3"),c=t("0bfb"),f=r.RegExp,d=f,u=f.prototype,l=/a/g,m=/a/g,p=new f(l)!==l;if(t("9e1e")&&(!p||t("79e5")((function(){return m[t("2b4c")("match")]=!1,f(l)!=l||f(m)==m||"/a/i"!=f(l,"i")})))){f=function(e,s){var t=this instanceof f,r=i(e),n=void 0===s;return!t&&r&&e.constructor===f&&n?e:a(p?new d(r&&!n?e.source:e,s):d((r=e instanceof f)?e.source:e,r&&n?c.call(e):s),t?this:u,f)};for(var b=function(e){e in f||n(f,e,{configurable:!0,get:function(){return d[e]},set:function(s){d[e]=s}})},h=o(d),g=0;h.length>g;)b(h[g++]);u.constructor=f,f.prototype=u,t("2aba")(r,"RegExp",f)}t("7a56")("RegExp")},"3fbe":function(e,s,t){"use strict";var r=t("243f"),a=t.n(r);a.a},aae3:function(e,s,t){var r=t("d3f4"),a=t("2d95"),n=t("2b4c")("match");e.exports=function(e){var s;return r(e)&&(void 0!==(s=e[n])?!!s:"RegExp"==a(e))}}}]);
//# sourceMappingURL=chunk-101f674a.e091c884.js.map