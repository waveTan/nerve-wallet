{"version":3,"sources":["webpack:///./src/views/transfer/Transfer.vue?8b6a","webpack:///src/views/transfer/Transfer.vue","webpack:///./src/views/transfer/Transfer.vue?7819","webpack:///./src/views/transfer/Transfer.vue","webpack:///./node_modules/core-js/modules/es6.regexp.constructor.js","webpack:///./src/views/transfer/Transfer.vue?694f"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","ref","attrs","transferForm","transferRules","model","value","callback","$$v","$set","expression","on","changeAssetType","_l","item","key","_id","symbol","trim","staticStyle","balanceInfo","balances","fee","prefix","$event","submitTransferForm","transferFormDialog","fromAddress","toAddress","amount","assetType","remarks","slot","confirmSubmission","coinPassSubmit","staticRenderFns","component","global","inheritIfRequired","dP","f","gOPN","isRegExp","$flags","$RegExp","RegExp","Base","proto","prototype","re1","re2","CORRECT_NEW","p","tiRE","piRE","fiU","undefined","constructor","source","call","proxy","configurable","get","set","it","keys","i","length"],"mappings":"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","file":"js/chunk-fd10cbf4.bd314d13.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"transfer\"},[_c('div',{staticClass:\"w1200\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('home.home3')))]),_c('el-form',{ref:\"transferForm\",staticClass:\"w630 transfer_form\",attrs:{\"model\":_vm.transferForm,\"rules\":_vm.transferRules}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('transfer.transfer0'),\"prop\":\"fromAddress\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.transferForm.fromAddress),callback:function ($$v) {_vm.$set(_vm.transferForm, \"fromAddress\", $$v)},expression:\"transferForm.fromAddress\"}})],1),_c('el-form-item',{staticClass:\"asset_type\",attrs:{\"label\":_vm.$t('transfer.transfer2'),\"prop\":\"assetType\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"\"},on:{\"change\":_vm.changeAssetType},model:{value:(_vm.transferForm.assetType),callback:function ($$v) {_vm.$set(_vm.transferForm, \"assetType\", $$v)},expression:\"transferForm.assetType\"}},_vm._l((_vm.assetList),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.symbol,\"value\":item}})}),1)],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('transfer.transfer1'),\"prop\":\"toAddress\"}},[_c('el-input',{model:{value:(_vm.transferForm.toAddress),callback:function ($$v) {_vm.$set(_vm.transferForm, \"toAddress\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"transferForm.toAddress\"}})],1),_c('div',{staticStyle:{\"width\":\"630px\",\"height\":\"30px\"}}),_c('div',{staticClass:\"fr font12\",staticStyle:{\"padding\":\"8px 0 0 0\"}},[_vm._v(_vm._s(_vm.$t('public.usableBalance'))+\": \"+_vm._s(_vm.balanceInfo.balances))]),_c('el-form-item',{attrs:{\"label\":_vm.$t('transfer.transfer3'),\"prop\":\"amount\"}},[_c('el-input',{model:{value:(_vm.transferForm.amount),callback:function ($$v) {_vm.$set(_vm.transferForm, \"amount\", $$v)},expression:\"transferForm.amount\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('transfer.transfer4'),\"prop\":\"remarks\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.transferForm.remarks),callback:function ($$v) {_vm.$set(_vm.transferForm, \"remarks\", $$v)},expression:\"transferForm.remarks\"}})],1),_c('div',{staticClass:\"fee font14 mb_20\"},[_vm._v(_vm._s(_vm.$t('public.fee'))+\": \"+_vm._s(_vm.transferForm.fee)+\" \"+_vm._s(_vm.prefix))]),_c('el-form-item',{staticClass:\"btn-next\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitTransferForm('transferForm')}}},[_vm._v(_vm._s(_vm.$t('public.next')))])],1)],1)],1),_c('el-dialog',{staticClass:\"transfer_form_dialog\",attrs:{\"title\":_vm.$t('transfer.transfer6'),\"visible\":_vm.transferFormDialog,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.transferFormDialog=$event}}},[_c('ul',{staticStyle:{\"height\":\"150px\"}},[_c('li',[_c('span',[_vm._v(_vm._s(_vm.$t('transfer.transfer0'))+\"：\")]),_c('font',[_vm._v(_vm._s(_vm.transferForm.fromAddress))])],1),_c('li',[_c('span',[_vm._v(_vm._s(_vm.$t('transfer.transfer1'))+\"：\")]),_c('font',[_vm._v(_vm._s(_vm.transferForm.toAddress))])],1),_c('li',[_c('span',[_vm._v(_vm._s(_vm.$t('public.amount'))+\"：\")]),_c('font',[_vm._v(_vm._s(_vm.transferForm.amount)+\" \"+_vm._s(this.transferForm.assetType))])],1),_c('li',[_c('span',[_vm._v(_vm._s(_vm.$t('public.fee'))+\"：\")]),_c('font',[_vm._v(_vm._s(_vm.transferForm.fee)+\" \"+_vm._s(_vm.prefix))])],1),_c('li',[_c('span',[_vm._v(_vm._s(_vm.$t('public.remarks'))+\"：\")]),_c('font',[_vm._v(_vm._s(_vm.transferForm.remarks))])],1)]),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticStyle:{\"margin-right\":\"20px\"},on:{\"click\":function($event){_vm.transferFormDialog = false}}},[_vm._v(_vm._s(_vm.$t('address.address10'))+\"\\n      \")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmSubmission}},[_vm._v(_vm._s(_vm.$t('transfer.transfer8')))])],1)]),_c('Password',{ref:\"password\",on:{\"passwordSubmit\":_vm.coinPassSubmit}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"transfer\">\r\n    <div class=\"w1200\">\r\n      <div class=\"title\">{{$t('home.home3')}}</div>\r\n      <el-form :model=\"transferForm\" :rules=\"transferRules\" ref=\"transferForm\" class=\"w630 transfer_form\">\r\n        <el-form-item :label=\"$t('transfer.transfer0')\" prop=\"fromAddress\">\r\n          <el-input v-model=\"transferForm.fromAddress\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('transfer.transfer2')\" prop=\"assetType\" class=\"asset_type\">\r\n          <el-select v-model=\"transferForm.assetType\" filterable placeholder=\"\" @change=\"changeAssetType\">\r\n            <el-option v-for=\"item in assetList\" :key=\"item._id\" :label=\"item.symbol\" :value=\"item\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('transfer.transfer1')\" prop=\"toAddress\">\r\n          <el-input v-model.trim=\"transferForm.toAddress\"></el-input>\r\n        </el-form-item>\r\n        <div style=\"width: 630px;height: 30px\"></div>\r\n        <div class=\"fr font12\" style=\"padding: 8px 0 0 0\">{{$t('public.usableBalance')}}: {{balanceInfo.balances}}</div>\r\n        <el-form-item :label=\"$t('transfer.transfer3')\" prop=\"amount\">\r\n          <el-input v-model=\"transferForm.amount\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('transfer.transfer4')\" prop=\"remarks\">\r\n          <el-input type=\"textarea\" v-model=\"transferForm.remarks\"></el-input>\r\n        </el-form-item>\r\n        <div class=\"fee font14 mb_20\">{{$t('public.fee')}}: {{transferForm.fee}} {{prefix}}</div>\r\n        <el-form-item class=\"btn-next\">\r\n          <el-button type=\"primary\" @click=\"submitTransferForm('transferForm')\">{{$t('public.next')}}</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <el-dialog :title=\"$t('transfer.transfer6')\" :visible.sync=\"transferFormDialog\" class=\"transfer_form_dialog\"\r\n               width=\"500px\">\r\n      <ul style=\"height: 150px\">\r\n        <li><span>{{$t('transfer.transfer0')}}：</span><font>{{transferForm.fromAddress}}</font></li>\r\n        <li><span>{{$t('transfer.transfer1')}}：</span><font>{{transferForm.toAddress}}</font></li>\r\n        <li><span>{{$t('public.amount')}}：</span><font>{{transferForm.amount}} {{this.transferForm.assetType}}</font>\r\n        </li>\r\n        <li><span>{{$t('public.fee')}}：</span><font>{{transferForm.fee}} {{prefix}}</font></li>\r\n        <li><span>{{$t('public.remarks')}}：</span><font>{{transferForm.remarks}}</font></li>\r\n      </ul>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"transferFormDialog = false\" style=\"margin-right: 20px\">{{$t('address.address10')}}\r\n        </el-button>\r\n        <el-button type=\"primary\" @click=\"confirmSubmission\">{{$t('transfer.transfer8')}}</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <Password ref=\"password\" @passwordSubmit=\"coinPassSubmit\">\r\n    </Password>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import nerve from 'nerve-sdk-js'\r\n  import sdk from 'nerve-sdk-js/lib/api/sdk'\r\n  import {getNulsBalance, validateAndBroadcast, getBaseAssetInfo} from '@/api/requestData'\r\n  import {MAIN_INFO} from '@/config.js'\r\n  import {\r\n    Plus,\r\n    divisionDecimals,\r\n    timesDecimals,\r\n    Minus,\r\n    passwordVerification,\r\n    htmlEncode\r\n  } from '@/api/util'\r\n  import Password from '@/components/PasswordBar'\r\n\r\n  export default {\r\n\r\n    data() {\r\n      let validateToAddress = (rule, value, callback) => {\r\n        let patrn = /^(?![a-zA-Z]+$)(?![^\\da-zA-Z]+$).{20,50}$/;\r\n        if (value === '') {\r\n          callback(new Error(this.$t('transfer.transfer9')))\r\n        } else if (!patrn.exec(value)) {\r\n          callback(new Error(this.$t('transfer.transfer10')))\r\n        } else {\r\n          callback()\r\n        }\r\n      };\r\n      let validateAmount = (rule, value, callback) => {\r\n        //console.log(this.changeAssets.decimals);\r\n        let decimals = 8;\r\n        let patrn = new RegExp(\"^([1-9][\\\\d]{0,20}|0)(\\\\.[\\\\d]{0,8})?$\");\r\n        /*if (this.changeAssets.decimals === 0) {\r\n          patrn = new RegExp(\"^([1-9][\\\\d]{0,20}|0)(\\\\.[\\\\d]{0,1})?$\");\r\n        } else {\r\n          patrn = new RegExp(\"^([1-9][\\\\d]{0,20}|0)(\\\\.[\\\\d]{1,\" + decimals + \"})?$\");\r\n        }*/\r\n        if (value === '') {\r\n          callback(new Error(this.$t('transfer.transfer11')))\r\n        } else if (!patrn.exec(value)) {\r\n          callback(new Error(this.$t('transfer.transfer12') + \": \" + decimals))\r\n        } else if (Number(value) < 0.001) {\r\n          callback(new Error(this.$t('transfer.transfer13')))\r\n        } else if (this.balanceInfo.balance === 0) {\r\n          callback(new Error(this.$t('tips.tips23')))\r\n        } else if (Number(value) > Number(Minus(this.balanceInfo.balance, 0.001))) {\r\n          callback(new Error(this.$t('transfer.transfer131') + Number(Minus(this.balanceInfo.balance, 0.001))))\r\n        } else {\r\n          callback()\r\n        }\r\n      };\r\n\r\n      return {\r\n        addressInfo: {},//默认账户信息\r\n        assetList: [], //资产列表\r\n        changeAssetInfo: {},//选择的资产信息\r\n        balanceInfo: {\r\n          balance: 0,\r\n          balances: 0,\r\n          nonce: \"\"\r\n        },//账户余额信息\r\n        //转账数据\r\n        transferForm: {\r\n          fromAddress: '',\r\n          toAddress: '',\r\n          assetType: '',\r\n          amount: '',\r\n          fee: 0.001,\r\n          remarks: '',\r\n        },\r\n        //验证信息\r\n        transferRules: {\r\n          toAddress: [{validator: validateToAddress, trigger: 'change'}],\r\n          amount: [{validator: validateAmount, trigger: ['blur', 'change']}],\r\n        },\r\n        prefix: MAIN_INFO.prefix,\r\n        transferFormDialog: false,//确认弹框\r\n      };\r\n    },\r\n    watch: {\r\n      '$store.getters.getSelectAddress': {\r\n        handler: function (val, old) {\r\n          if (val.address !== old.address) {\r\n            this.initInfo();\r\n            this.changeAssetType(this.changeAssetInfo);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.assetList = this.$store.state.accountList;\r\n      console.log(this.assetList);\r\n      this.initInfo()\r\n    },\r\n    mounted() {\r\n      let transferParams = {};\r\n      if (sessionStorage.hasOwnProperty('transferParams')) {\r\n        transferParams = JSON.parse(sessionStorage.getItem('transferParams'))\r\n      } else {\r\n        let assetsInfo = this.assetList.filter(k => k.chainId === MAIN_INFO.chainId);\r\n        transferParams = assetsInfo[0];\r\n      }\r\n      this.transferForm.assetType = transferParams.symbol;\r\n      this.changeAssetType(transferParams);\r\n    },\r\n    components: {\r\n      Password,\r\n    },\r\n    destroyed() {\r\n      sessionStorage.removeItem('transferParams')\r\n    },\r\n    methods: {\r\n      //初始化选中账户数据\r\n      initInfo() {\r\n        this.addressInfo = this.$store.getters.getSelectAddress;\r\n        this.transferForm.fromAddress = this.addressInfo.address;\r\n      },\r\n\r\n      /**\r\n       * @disc: 选择资产\r\n       * @params: e\r\n       * @date: 2020-04-08 16:49\r\n       * @author: Wave\r\n       */\r\n      async changeAssetType(e) {\r\n        this.changeAssetInfo = e;\r\n        this.transferForm.assetType = e.symbol;\r\n        try {\r\n          let resBalanceInfo = await getNulsBalance(e.chainId, e.assetsId, this.addressInfo.address);\r\n          //console.log(resBalanceInfo);\r\n          if (resBalanceInfo.success) {\r\n            this.balanceInfo.balance = resBalanceInfo.data.balance;\r\n            this.balanceInfo.balances = Number(divisionDecimals(resBalanceInfo.data.balance, e.decimals));\r\n            this.balanceInfo.nonce = resBalanceInfo.data.nonce;\r\n          }\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      },\r\n\r\n      /**\r\n       * @disc: 下一步\r\n       * @params: formName\r\n       * @date: 2020-04-07 18:14\r\n       * @author: Wave\r\n       */\r\n      submitTransferForm(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            this.transferFormDialog = true;\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n\r\n      /**\r\n       * @disc: 确认提交\r\n       * @date: 2020-04-07 18:45\r\n       * @author: Wave\r\n       */\r\n      confirmSubmission() {\r\n        this.$refs.password.showPassword(true);\r\n        this.transferFormDialog = false;\r\n      },\r\n\r\n      /**\r\n       * @disc: 转账密码输入\r\n       * @params: password\r\n       * @date: 2019-09-02 10:49\r\n       * @author: Wave\r\n       */\r\n      async coinPassSubmit(password) {\r\n        let passwordInfo = await passwordVerification(this.addressInfo, password);\r\n        //console.log(passwordInfo);\r\n        if (!passwordInfo.success) {\r\n          this.$message({message: this.$t('tips.tips24'), type: 'error', duration: 3000});\r\n          return;\r\n        }\r\n        //console.log(this.assetsInfo);\r\n        let transferInfo = {\r\n          fromAddress: this.addressInfo.address,\r\n          assetsChainId: this.changeAssetInfo.chainId,\r\n          assetsId: this.changeAssetInfo.assetId,\r\n          fee: 100000\r\n        };\r\n        transferInfo['toAddress'] = this.transferForm.toAddress;\r\n        transferInfo['amount'] = timesDecimals(this.transferForm.amount, this.changeAssetInfo.decimal);\r\n        //console.log(transferInfo);\r\n        let inOrOutputs = await this.inputsOrOutputs(transferInfo);\r\n        //console.log(inOrOutputs);\r\n        //交易组装\r\n        let tAssemble = await nerve.transactionAssemble(inOrOutputs.data.inputs, inOrOutputs.data.outputs, htmlEncode(this.transferForm.remarks), 2);\r\n        //获取hash\r\n        let hash = await tAssemble.getHash();\r\n        //console.log(hash);\r\n        //交易签名\r\n        let txSignature = await sdk.getSignData(hash.toString('hex'), passwordInfo.pri);\r\n        //通过拼接签名、公钥获取HEX\r\n        let signData = await sdk.appSplicingPub(txSignature.signValue, passwordInfo.pub);\r\n        tAssemble.signatures = signData;\r\n        let txhex = tAssemble.txSerialize().toString(\"hex\");\r\n        //console.log(txhex.toString('hex'));\r\n        let broadcastResult = await validateAndBroadcast(txhex.toString('hex'));\r\n        console.log(broadcastResult);\r\n        if (!broadcastResult.success) {\r\n          this.$message({\r\n            message: this.$t('public.err') + JSON.stringify(broadcastResult),\r\n            type: 'error',\r\n            duration: 3000\r\n          });\r\n          return;\r\n        } else {\r\n          this.$message({message: this.$t('tips.tips0'), type: 'success', duration: 1000});\r\n          this.transferFormDialog = false;\r\n          //this.$refs['transferForm'].resetFields();\r\n          this.transferForm.toAddress = '';\r\n          this.transferForm.amount = '';\r\n          this.transferForm.remarks = '';\r\n          this.toUrl(\"txList\");\r\n        }\r\n      },\r\n\r\n      /**\r\n       * 获取inputs and outputs\r\n       * @param transferInfo\r\n       * @returns {*}\r\n       **/\r\n      async inputsOrOutputs(transferInfo) {\r\n        //console.log(MAIN_INFO);\r\n        const defaultAsset = {assetsChainId: MAIN_INFO.chainId, assetsId: MAIN_INFO.assetId};\r\n        let newAmount = 0;\r\n        let inputs = [];\r\n        if (transferInfo.assetsChainId === defaultAsset.assetsChainId && transferInfo.assetsId === defaultAsset.assetsId) {\r\n          const balanceInfo = await getBaseAssetInfo(transferInfo.assetsChainId, transferInfo.assetsId, transferInfo.fromAddress);\r\n          newAmount = Number(Plus(transferInfo.amount, transferInfo.fee));\r\n          inputs = [{\r\n            address: transferInfo.fromAddress,\r\n            assetsChainId: transferInfo.assetsChainId,\r\n            assetsId: transferInfo.assetsId,\r\n            amount: newAmount,\r\n            locked: 0,\r\n            nonce: balanceInfo.data.nonce\r\n          }];\r\n        } else {\r\n          const balanceInfo = await getBaseAssetInfo(transferInfo.assetsChainId, transferInfo.assetsId, transferInfo.fromAddress);\r\n          newAmount = Number(transferInfo.amount);\r\n          inputs = [{\r\n            address: transferInfo.fromAddress,\r\n            assetsChainId: transferInfo.assetsChainId,\r\n            assetsId: transferInfo.assetsId,\r\n            amount: newAmount,\r\n            locked: 0,\r\n            nonce: balanceInfo.data.nonce\r\n          }];\r\n          const defaultBalanceInfo = await getBaseAssetInfo(defaultAsset.assetsChainId, defaultAsset.assetsId, transferInfo.fromAddress);\r\n          inputs.push({\r\n            address: transferInfo.fromAddress,\r\n            assetsChainId: defaultAsset.assetsChainId,\r\n            assetsId: defaultAsset.assetsId,\r\n            amount: transferInfo.fee,\r\n            locked: 0,\r\n            nonce: defaultBalanceInfo.data.nonce\r\n          });\r\n        }\r\n        let outputs = [{\r\n          address: transferInfo.toAddress,\r\n          assetsChainId: transferInfo.assetsChainId,\r\n          assetsId: transferInfo.assetsId,\r\n          amount: transferInfo.amount,\r\n          lockTime: 0\r\n        }];\r\n        return {success: true, data: {inputs: inputs, outputs: outputs}};\r\n      },\r\n\r\n      /**\r\n       * 连接跳转\r\n       * @param name\r\n       */\r\n      toUrl(name) {\r\n        //console.log(name)\r\n        this.$router.push({\r\n          name: name\r\n        })\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  @import \"./../../assets/css/style\";\r\n\r\n  .transfer {\r\n    .title {\r\n      font-weight: bold;\r\n    }\r\n    .transfer_form {\r\n      min-height: 700px;\r\n      .asset_type {\r\n        .el-form-item__label {\r\n          float: none;\r\n\r\n        }\r\n        .el-form-item__content {\r\n          .el-select {\r\n            width: 630px;\r\n            .el-input__inner {\r\n              width: 100%;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .btn-next {\r\n        width: 500px;\r\n        margin: 30px auto 0;\r\n        .el-button--primary {\r\n          width: 100%;\r\n        }\r\n        .el-button--primary {\r\n          background-color: #78a0f3;\r\n          border-color: #78a0f3;\r\n          &:hover {\r\n            background-color: #79a4ef;\r\n            border-color: #99ccee;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .transfer_form_dialog {\r\n      .el-dialog__body {\r\n        background-color: #ffffff;\r\n        padding: 20px;\r\n        ul {\r\n          li {\r\n            line-height: 30px;\r\n            span {\r\n              width: 100px;\r\n              text-align: right;\r\n              display: block;\r\n              float: left;\r\n              margin-right: 10px;\r\n            }\r\n            font {\r\n\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .el-dialog__footer {\r\n        padding: 0 0 10px 0;\r\n        .dialog-footer {\r\n          margin: 20px 0 10px 0;\r\n          .el-button {\r\n            width: 150px;\r\n          }\r\n          .el-button--default {\r\n            margin-right: 30px;\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Transfer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Transfer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Transfer.vue?vue&type=template&id=8f63b036&\"\nimport script from \"./Transfer.vue?vue&type=script&lang=js&\"\nexport * from \"./Transfer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Transfer.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var global = require('./_global');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar dP = require('./_object-dp').f;\nvar gOPN = require('./_object-gopn').f;\nvar isRegExp = require('./_is-regexp');\nvar $flags = require('./_flags');\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Transfer.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Transfer.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}