(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51b33656"],{"2e64":function(e,s,t){"use strict";var n=t("ff03"),a=t.n(n);a.a},"45e9":function(e,s,t){"use strict";var n=t("90c8"),a=t.n(n);a.a},"90c8":function(e,s,t){},a475:function(e,s,t){"use strict";t.r(s);var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"consensus_info w1200"},[t("div",{staticClass:"bg-white"},[t("div",{staticClass:"w1200"},[t("BackBar",{attrs:{backTitle:e.$t("nav.consensus")}})],1)]),t("div",{staticClass:"node-info shadow1"},[t("div",{staticClass:"head"},[t("h3",{staticClass:"fCN fl uppercase"},[e._v("ID: "+e._s(e.nodeInfo.agentId))]),t("span",{class:["fr",0===e.nodeInfo.status?"resolve":"fred"]},[e._v(e._s(0===e.nodeInfo.status?e.$t("consensus.consensus21"):e.$t("consensus.consensus22")))])]),t("div",{staticClass:"body clear"},[t("div",{staticClass:"left-part"},[t("p",[e._v(e._s(e.$t("public.createAddress"))+" "),t("label",[e._v(e._s(e.nodeInfo.agentAddress))])]),t("p",[e._v(e._s(e.$t("public.rewardAddress"))+" "),t("label",[e._v(e._s(e.nodeInfo.rewardAddress))])]),t("p",[e._v(e._s(e.$t("public.packingAddress"))+" "),t("label",[e._v(e._s(e.nodeInfo.packingAddress))])]),t("p",[e._v(e._s(e.$t("consensus.consensus12"))+" "),t("label",[e._v(e._s(e.nodeInfo.type))])]),t("p",[e._v(e._s(e.$t("consensusInfo.consensusInfo8"))+" "),t("label",[e._v(e._s(e.nodeInfo.agentAlias?e.nodeInfo.agentAlias:"--"))])]),t("p",[e._v(e._s(e.$t("public.credit"))+" "),t("label",[e._v(e._s(e.nodeInfo.creditValue))])])]),t("div",{staticClass:"right-part"},[t("p",[e._v(e._s(e.$t("public.deposit"))+" "),t("label",[e._v(e._s(e.nodeInfo.deposits)),t("span",{staticClass:"fCN"},[e._v(e._s(e.agentAsset.agentAsset.symbol))])])]),t("p",[e._v(e._s(e.$t("consensusInfo.consensusInfo9"))+" "),t("label",[e._v(e._s(e.nodeInfo.createTime))])]),t("p",[e._v(e._s(e.$t("public.totalStake"))+" "),t("label",[e._v(e._s(e.nodeInfo.totalDeposit)),t("span",{staticClass:"fCN"},[e._v(e._s(e.agentAsset.agentAsset.symbol))])])]),t("p",[e._v(e._s(e.$t("consensusInfo.consensusInfo7"))+" "),t("label",[e._v(e._s(e.nodeInfo.totalReward)),t("span",{staticClass:"fCN"},[e._v(e._s(e.addressInfo.symbol))])])]),t("p",[e._v(e._s(e.$t("consensusInfo.consensusInfo10"))+" "),t("label",[t("u",{staticClass:"click td",on:{click:function(s){return e.toUrl("consensusInfo",e.nodeInfo.txHash)}}},[e._v(e._s(e.nodeInfo.yellowCardCount)+e._s(e.$t("consensusInfo.consensusInfo11")))])])]),t("el-button",{staticClass:"fr",attrs:{type:"danger"},on:{click:e.stopNode}},[e._v(e._s(e.$t("consensusInfo.consensusInfo5")))])],1)])]),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.nodeDepositLoading,expression:"nodeDepositLoading"}],staticClass:"entrust-list"},[t("div",{staticClass:"head"},[e._v("\n      "+e._s(e.$t("public.total"))+" "+e._s(e.pageTotal+" "+e.$t("public.item")+e.$t("consensus.consensus18"))+",\n      "+e._s(e.$t("consensus.consensus19")+" "+e.nodeInfo.totalDeposit+" NVT")+",\n      "+e._s(e.$t("consensus.consensus16")+" "+e.nodeInfo.totalReward+" NVT")+"\n      "),t("el-button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(s){e.additionDialog=!0}}},[e._v(e._s(e.$t("consensus.consensus20")))])],1),t("el-table",{staticClass:"shadow1",attrs:{data:e.nodeDepositData,stripe:"",border:""}},[t("el-table-column",{attrs:{width:"20"}}),t("el-table-column",{attrs:{prop:"blockHeight",label:e.$t("public.height"),width:"120"}}),t("el-table-column",{attrs:{prop:"txHash",label:"TXID"}}),t("el-table-column",{attrs:{prop:"amount",label:e.$t("consensus.consensus14")}}),t("el-table-column",{attrs:{prop:"",label:e.$t("consensus.consensus16")}}),t("el-table-column",{attrs:{prop:"createTime",label:e.$t("consensusList.consensusList1")}}),t("el-table-column",{attrs:{label:e.$t("public.operation"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("label",{staticClass:"click tab_bn",on:{click:function(t){return e.cancelDeposit(s.row)}}},[e._v(e._s(e.$t("consensusInfo.consensusInfo0")))])]}}])})],1),t("el-dialog",{attrs:{title:e.$t("consensus.consensus20"),visible:e.additionDialog,width:"38rem"},on:{"update:visible":function(s){e.additionDialog=s}}},[t("el-form",{ref:"jionNodeForm",attrs:{model:e.jionNodeForm,"status-icon":"",rules:e.jionNodeRules}},[t("el-form-item",{attrs:{label:e.$t("consensusInfo.consensusInfo1")+": ",prop:"amount"}},[t("span",{staticClass:"balance font12 fr"},[e._v(e._s(e.$t("consensus.consensus2"))+"："+e._s(e.balanceInfo.balance/1e8))]),t("el-input",{model:{value:e.jionNodeForm.amount,callback:function(s){e.$set(e.jionNodeForm,"amount",s)},expression:"jionNodeForm.amount"}})],1),t("el-form-item",{attrs:{label:e.$t("public.fee")+": "}},[t("span",{staticClass:"fee"},[e._v("0.0052 NVT")])])],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(s){e.additionDialog=!1}}},[e._v(e._s(e.$t("password.password2")))]),t("el-button",{attrs:{type:"primary"},on:{click:function(s){return e.jionNodeSubmitForm("jionNodeForm")}}},[e._v(e._s(e.$t("password.password3")))])],1)],1)],1),t("Password",{ref:"password",on:{passwordSubmit:e.passSubmit}})],1)},a=[],r=(t("ac4d"),t("8a81"),t("5df3"),t("1c4c"),t("7f7f"),t("ac6a"),t("6b54"),t("96cf"),t("3b8d")),o=(t("c5f6"),t("c32d")),i=t.n(o),c=t("0ad0"),u=t.n(c),d=t("1959"),l=t("6ace"),h=t("d1f0"),f=t("b301");function p(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=b(e))){var s=0,t=function(){};return{s:t,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,r=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw a}}}}function b(e,s){if(e){if("string"===typeof e)return m(e,s);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,s):void 0}}function m(e,s){(null==s||s>e.length)&&(s=e.length);for(var t=0,n=new Array(s);t<s;t++)n[t]=e[t];return n}var g={data:function(){var e=this,s=function(s,t,n){var a=Number(Object(l["b"])(5e5,Number(e.nodeInfo.totalDeposit))),r=Number(Object(l["b"])(e.balanceInfo.balance,Number(Object(l["d"])(t,1e8)))),o=/^\d+(?=\.{0,1}\d+$|$)/,i=/^\d{1,8}(\.\d{1,8})?$/;if(!t)return n(new Error(e.$t("consensusInfo.consensusInfo2")));if(o.exec(t)&&i.exec(t)){if(t<2e3)return n(new Error(e.$t("consensusInfo.consensusInfo43")));if(t>a)return n(new Error(e.$t("consensusInfo.consensusInfo41")+a+e.$t("consensusInfo.consensusInfo42")));if(r<.001)return n(new Error(e.$t("transfer.transfer131")+Number(Object(l["b"])(Number(Object(l["r"])(e.balanceInfo.balance)),.001))));n()}else n(new Error(e.$t("consensusInfo.consensusInfo3")))};return{addressInfo:{},balanceInfo:{},agentAsset:JSON.parse(sessionStorage.getItem("info")),nodeInfo:{},fee:.001,outInfo:"",passwordType:0,jionNode:!1,nodeDepositData:[],nodeDepositLoading:!0,pageIndex:1,pageSize:5,pageTotal:0,jionNodeForm:{amount:""},jionNodeRules:{amount:[{validator:s,trigger:["blur","change"]}]},prefix:"",txHexRandom:"",signDataKeyRandom:"",additionDialog:!1}},created:function(){var e=this;Object(d["f"])(Object(l["f"])()).then((function(s){e.prefix=s})).catch((function(s){console.log(s),e.prefix=""})),this.addressInfo=Object(l["e"])(1),setInterval((function(){e.addressInfo=Object(l["e"])(1)}),500)},mounted:function(){var e=this;setTimeout((function(){e.getBalanceByAddress(e.agentAsset.agentAsset.chainId,e.agentAsset.agentAsset.assetId,e.addressInfo.address),e.getNodeInfoByHash(e.$route.query.hash),e.getNodeDepositByHash(e.pageIndex,e.pageSize,e.addressInfo.address,e.$route.query.hash)}),600)},components:{Password:h["a"],BackBar:f["a"]},methods:{getNodeInfoByHash:function(e){var s=this;this.$post("/","getConsensusNode",[e]).then((function(e){e.hasOwnProperty("result")&&(e.result.agentReward=Object(l["k"])(e.result.agentReward),e.result.deposits=Object(l["k"])(e.result.deposit),e.result.totalDeposit=Object(l["k"])(e.result.totalDeposit),e.result.totalReward=Object(l["k"])(e.result.totalReward),e.result.createTime=i()(Object(l["l"])(1e3*e.result.createTime)).format("YYYY-MM-DD HH:mm:ss"),s.nodeInfo=e.result)})).catch((function(e){console.log("getConsensusNode:"+e)}))},getNodeDepositByHash:function(e,s,t,n){var a=this;this.$post("/","getAccountDeposit",[e,s,t,n]).then((function(e){if(e.hasOwnProperty("result")){var s,t=p(e.result.list);try{for(t.s();!(s=t.n()).done;){var n=s.value;n.amount=Object(l["k"])(n.amount),n.fee=Object(l["k"])(n.fee),n.createTime=i()(Object(l["l"])(1e3*n.createTime)).format("YYYY-MM-DD HH:mm:ss"),n.txHash=Object(l["q"])(n.txHash,10)}}catch(r){t.e(r)}finally{t.f()}a.nodeDepositData=e.result.list,0===e.result.totalCount?a.jionNode=!0:a.jionNode=!1,a.pageTotal=e.result.totalCount,a.nodeDepositLoading=!1}else a.nodeDepositLoading=!1})).catch((function(e){console.log("getConsensusDeposit:"+e)}))},nodeDepositPages:function(e){this.pageIndex=e,this.getNodeDepositByHash(this.pageIndex,this.pageSize,this.addressInfo.address,this.$route.query.hash)},showNodeList:function(){this.jionNode=!0,this.getNodeDepositByHash(this.pageIndex,this.pageSize,this.$route.query.hash)},jionNodeSubmitForm:function(e){var s=this;this.$refs[e].validate(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=27;break}if(s.passwordType=0,""!==s.addressInfo.aesPri){e.next=24;break}return e.next=5,Object(l["m"])(16);case 5:return s.txHexRandom=e.sent,e.next=8,Object(l["m"])(16);case 8:return s.signDataKeyRandom=e.sent,e.next=11,s.getAssemble();case 11:if(n=e.sent,n.success){e.next=15;break}return s.$message({message:s.$t("tips.tips3"),type:"error",duration:3e3}),e.abrupt("return");case 15:return e.next=17,Object(d["b"])(s.txHexRandom,s.signDataKeyRandom,s.addressInfo.address,n.data);case 17:if(a=e.sent,a.success){e.next=21;break}return s.$message({message:s.$t("tips.tips4")+JSON.stringify(a.data),type:"error",duration:3e3}),e.abrupt("return");case 21:s.$refs.password.showScan(a.data.txInfo,a.data.assembleHex),e.next=25;break;case 24:s.$refs.password.showPassword(!0);case 25:e.next=28;break;case 27:return e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}())},getBalanceByAddress:function(e,s,t){var n=this;Object(d["e"])(e,s,t).then((function(e){e.success?n.balanceInfo=e.data:n.$message({message:n.$t("public.err2")+e,type:"error",duration:1e3})})).catch((function(e){n.$message({message:n.$t("public.err3")+e,type:"error",duration:1e3})}))},cancelDeposit:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(s){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.outInfo=s,this.getBalanceByAddress(this.agentAsset.agentAsset.chainId,this.agentAsset.agentAsset.assetId,this.addressInfo.address),this.passwordType=1,""!==this.addressInfo.aesPri){e.next=25;break}return e.next=6,Object(l["m"])(16);case 6:return this.txHexRandom=e.sent,e.next=9,Object(l["m"])(16);case 9:return this.signDataKeyRandom=e.sent,e.next=12,this.getAssemble();case 12:if(t=e.sent,t.success){e.next=16;break}return this.$message({message:this.$t("tips.tips3"),type:"error",duration:3e3}),e.abrupt("return");case 16:return e.next=18,Object(d["b"])(this.txHexRandom,this.signDataKeyRandom,this.addressInfo.address,t.data);case 18:if(n=e.sent,n.success){e.next=22;break}return this.$message({message:this.$t("tips.tips4")+JSON.stringify(n.data),type:"error",duration:3e3}),e.abrupt("return");case 22:this.$refs.password.showScan(n.data.txInfo,n.data.assembleHex),e.next=26;break;case 25:this.$refs.password.showPassword(!0);case 26:case"end":return e.stop()}}),e,this)})));function s(s){return e.apply(this,arguments)}return s}(),stopNode:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var s,t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.getBalanceByAddress(this.agentAsset.agentAsset.chainId,this.agentAsset.agentAsset.assetId,this.addressInfo.address),this.passwordType=2,""!==this.addressInfo.aesPri){e.next=24;break}return e.next=5,Object(l["m"])(16);case 5:return this.txHexRandom=e.sent,e.next=8,Object(l["m"])(16);case 8:return this.signDataKeyRandom=e.sent,e.next=11,this.getAssemble();case 11:if(s=e.sent,s.success){e.next=15;break}return this.$message({message:this.$t("tips.tips3"),type:"error",duration:3e3}),e.abrupt("return");case 15:return e.next=17,Object(d["b"])(this.txHexRandom,this.signDataKeyRandom,this.addressInfo.address,s.data);case 17:if(t=e.sent,t.success){e.next=21;break}return this.$message({message:this.$t("tips.tips4")+JSON.stringify(t.data),type:"error",duration:3e3}),e.abrupt("return");case 21:this.$refs.password.showScan(t.data.txInfo,t.data.assembleHex),e.next=25;break;case 24:this.$refs.password.showPassword(!0);case 25:case"end":return e.stop()}}),e,this)})));function s(){return e.apply(this,arguments)}return s}(),passSubmit:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(s){var t,n,a,r,o,i,c,h,f,b,m,g,I,x,y,$,v,k,w,_,A=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=u.a.decrypteOfAES(this.addressInfo.aesPri,s),n=u.a.importByKey(this.addressInfo.chainId,t,s,this.prefix),n.address!==this.addressInfo.address){e.next=84;break}if(a={fromAddress:this.addressInfo.address,assetsChainId:this.agentAsset.agentAsset.chainId,assetsId:this.agentAsset.agentAsset.assetId,amount:Number(Object(l["d"])(this.jionNodeForm.amount,1e8)),fee:1e5},r={},o="",i=this.addressInfo.pub,c="",0!==this.passwordType){e.next=24;break}return e.next=11,Object(d["h"])(a,this.balanceInfo,5);case 11:if(r=e.sent,h={address:this.addressInfo.address,agentHash:this.$route.query.hash,deposit:Number(Object(l["d"])(this.jionNodeForm.amount,1e8))},r.success){e.next=16;break}return this.$message({message:this.$t("public.err1")+r.data,type:"error",duration:1e3}),e.abrupt("return");case 16:return e.next=18,u.a.transactionAssemble(r.data.inputs,r.data.outputs,c,5,h);case 18:return f=e.sent,e.next=21,u.a.transactionSerialize(t,i,f);case 21:o=e.sent,e.next=80;break;case 24:if(1!==this.passwordType){e.next=42;break}return a.amount=Number(Object(l["d"])(this.outInfo.amount,1e8)),a.depositHash=this.outInfo.txHash,e.next=29,Object(d["h"])(a,this.balanceInfo,6);case 29:if(r=e.sent,!r.success){e.next=39;break}return e.next=33,u.a.transactionAssemble(r.data.inputs,r.data.outputs,c,6,this.outInfo.txHash);case 33:return b=e.sent,e.next=36,u.a.transactionSerialize(t,i,b);case 36:o=e.sent,e.next=40;break;case 39:this.$message({message:this.$t("public.err1")+r.data,type:"error",duration:1e3});case 40:e.next=80;break;case 42:if(2!==this.passwordType){e.next=79;break}return a.amount=this.nodeInfo.deposit,a.depositHash=this.$route.query.hash,e.next=47,Object(d["h"])(a,this.balanceInfo,9);case 47:if(r=e.sent,!r.success){e.next=76;break}return m=r.data.inputs,g=[],e.next=53,Object(d["a"])(this.$route.query.hash);case 53:I=e.sent,x=p(I.list);try{for(x.s();!(y=x.n()).done;)$=y.value,m.push({address:$.address,assetsChainId:this.agentAsset.agentAsset.chainId,assetsId:this.agentAsset.agentAsset.assetId,amount:$.amount,locked:-1,nonce:$.txHash.substring($.txHash.length-16)}),g.push({address:$.address,assetsChainId:this.agentAsset.agentAsset.chainId,assetsId:this.agentAsset.agentAsset.assetId,amount:$.amount,lockTime:0})}catch(j){x.e(j)}finally{x.f()}return v=[],k=[],g.forEach((function(e){var s;(s=v.indexOf(e.address))>-1?k[s].amount=Number(k[s].amount)+Number(e.amount):(v.push(e.address),k.push({address:e.address,amount:e.amount,assetsChainId:e.assetsChainId,assetsId:e.assetsId,lockTime:e.lockTime}))})),k.unshift(r.data.outputs[0]),k[0].lockTime=k[0].lockTime+259200,e.next=63,u.a.transactionAssemble(m,k,c,9,this.$route.query.hash);case 63:if(w=e.sent,_=Object(d["c"])(w,1),a.fee===_){e.next=71;break}return a.fee=_,k[0].amount=Number(Object(l["b"])(this.nodeInfo.deposit,_).toString()),e.next=70,u.a.transactionAssemble(m,k,c,9,this.$route.query.hash);case 70:w=e.sent;case 71:return e.next=73,u.a.transactionSerialize(t,i,w);case 73:o=e.sent,e.next=77;break;case 76:this.$message({message:this.$t("public.err1")+r.data,type:"error",duration:1e3});case 77:e.next=80;break;case 79:console.log("交易类型错误");case 80:return e.next=82,Object(d["i"])(o).then((function(e){e.success?A.$router.push({name:"txList"}):A.$message({message:A.$t("public.err")+e.data.code,type:"error",duration:1e3})})).catch((function(e){A.$message({message:A.$t("public.err0")+e,type:"error",duration:1e3})}));case 82:e.next=85;break;case 84:this.$message({message:this.$t("address.address13"),type:"error",duration:1e3});case 85:case"end":return e.stop()}}),e,this)})));function s(s){return e.apply(this,arguments)}return s}(),getAssemble:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var s,t,n,a,r,o,i,c,h,f,b,m,g,I;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s={fromAddress:this.addressInfo.address,assetsChainId:this.agentAsset.agentAsset.chainId,assetsId:this.agentAsset.agentAsset.assetId,amount:Number(Object(l["d"])(this.jionNodeForm.amount,1e8)),fee:1e5},t={},n="",a="",0!==this.passwordType){e.next=18;break}return e.next=7,Object(d["h"])(s,this.balanceInfo,5);case 7:if(t=e.sent,r={address:this.addressInfo.address,agentHash:this.$route.query.hash,deposit:Number(Object(l["d"])(this.jionNodeForm.amount,1e8))},t.success){e.next=12;break}return this.$message({message:this.$t("public.err1")+t.data,type:"error",duration:3e3}),e.abrupt("return",{success:!1});case 12:return e.next=14,u.a.transactionAssemble(t.data.inputs,t.data.outputs,n,5,r);case 14:return a=e.sent,e.abrupt("return",{success:!0,data:a});case 18:if(1!==this.passwordType){e.next=33;break}return s.amount=Number(Object(l["d"])(this.outInfo.amount,1e8)),s.depositHash=this.outInfo.txHash,e.next=23,Object(d["h"])(s,this.balanceInfo,6);case 23:if(t=e.sent,t.success){e.next=27;break}return this.$message({message:this.$t("public.err1")+t.data,type:"error",duration:3e3}),e.abrupt("return",{success:!1});case 27:return e.next=29,u.a.transactionAssemble(t.data.inputs,t.data.outputs,n,6,this.outInfo.txHash);case 29:return a=e.sent,e.abrupt("return",{success:!0,data:a});case 33:if(2!==this.passwordType){e.next=67;break}return s.amount=this.nodeInfo.deposit,s.depositHash=this.$route.query.hash,e.next=38,Object(d["h"])(s,this.balanceInfo,9);case 38:if(t=e.sent,t.success){e.next=42;break}return this.$message({message:this.$t("public.err1")+t.data,type:"error",duration:3e3}),e.abrupt("return",{success:!1});case 42:return o=t.data.inputs,i=[],e.next=46,Object(d["a"])(this.$route.query.hash);case 46:c=e.sent,h=p(c.list);try{for(h.s();!(f=h.n()).done;)b=f.value,o.push({address:b.address,assetsChainId:this.agentAsset.agentAsset.chainId,assetsId:this.agentAsset.agentAsset.assetId,amount:b.amount,locked:-1,nonce:b.txHash.substring(b.txHash.length-16)}),i.push({address:b.address,assetsChainId:this.agentAsset.agentAsset.chainId,assetsId:this.agentAsset.agentAsset.assetId,amount:b.amount,lockTime:0})}catch(x){h.e(x)}finally{h.f()}return m=[],g=[],i.forEach((function(e){var s;(s=m.indexOf(e.address))>-1?g[s].amount=Number(g[s].amount)+Number(e.amount):(m.push(e.address),g.push({address:e.address,amount:e.amount,assetsChainId:e.assetsChainId,assetsId:e.assetsId,lockTime:e.lockTime}))})),g.unshift(t.data.outputs[0]),g[0].lockTime=g[0].lockTime+259200,e.next=56,u.a.transactionAssemble(o,g,n,9,this.$route.query.hash);case 56:if(a=e.sent,I=Object(d["c"])(a,1),s.fee===I){e.next=64;break}return s.fee=I,g[0].amount=Number(Object(l["b"])(this.nodeInfo.deposit,I).toString()),e.next=63,u.a.transactionAssemble(o,g,n,9,this.$route.query.hash);case 63:a=e.sent;case 64:return e.abrupt("return",{success:!0,data:a});case 67:console.log("交易类型错误");case 68:case"end":return e.stop()}}),e,this)})));function s(){return e.apply(this,arguments)}return s}(),toUrl:function(e,s){Object(l["h"])(e,s)}},watch:{addressInfo:function(e,s){e&&e.address!==s.address&&s.address&&(this.nodeDepositLoading=!0,this.jionNodeForm.amount="",this.getBalanceByAddress(this.agentAsset.agentAsset.chainId,this.agentAsset.agentAsset.assetId,this.addressInfo.address),this.getNodeDepositByHash(this.pageIndex,this.pageSize,this.addressInfo.address,this.$route.query.hash))}}},I=g,x=(t("45e9"),t("2877")),y=Object(x["a"])(I,n,a,!1,null,null,null);s["default"]=y.exports},b301:function(e,s,t){"use strict";var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"back",attrs:{backUrl:e.backUrl}},[t("span",{staticClass:"back-box",on:{click:e.back}},[t("i",{staticClass:"el-icon-arrow-left"}),t("span",[e._v(e._s(e.backTitle))])])])},a=[],r={props:{backTitle:{type:String,default:""},backUrl:{type:String,default:"1"},backParams:{type:String,default:""}},methods:{back:function(){"1"===this.backUrl?this.$router.go(-1):this.$router.push({name:this.backUrl})}}},o=r,i=(t("2e64"),t("2877")),c=Object(i["a"])(o,n,a,!1,null,null,null);s["a"]=c.exports},ff03:function(e,s,t){}}]);
//# sourceMappingURL=chunk-51b33656.a7931fe3.js.map